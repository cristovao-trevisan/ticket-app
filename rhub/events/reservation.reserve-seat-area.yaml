id: reservation.reserve-seat-area
name: reserve-seat-area
eventGroup: reservation
version: 0.0.1
model:
  amount: Number
  seat: Number
  auth:
    uid: String
filters:
  -
    id: on-event
    name: onEvent
    condition: null
    actions:
      -
        id: postgres
        async: false
        type: API
        action: GET
        operation: null
        serviceAccountId: query-api-proxy
        template:
          path: /reserve-seat-area
          query:
            amount: '{amount}'
            seat: '{seat}'
            auth_uid: '{auth.uid}'
        onSuccess:
          -
            eventId: reservation.on-seat-area-reserved
            payload:
              seat: '{request.seat}'
              auth:
                uid: '{request.auth.uid}'
              amount: '{response.data.data[0].amount}'
